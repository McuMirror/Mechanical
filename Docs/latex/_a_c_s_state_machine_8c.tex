\hypertarget{_a_c_s_state_machine_8c}{}\section{C\+:/\+Users/galey/\+Documents/\+Mechanical/\+Mech\+\_\+\+Lib/\+A\+C\+S\+State\+Machine.c File Reference}
\label{_a_c_s_state_machine_8c}\index{C:/Users/galey/Documents/Mechanical/Mech\_Lib/ACSStateMachine.c@{C:/Users/galey/Documents/Mechanical/Mech\_Lib/ACSStateMachine.c}}


Runs the logic for the A\+CS.  


{\ttfamily \#include $<$A\+C\+S\+State\+Machine.\+h$>$}\newline
{\ttfamily \#include $<$A\+C\+S.\+h$>$}\newline
{\ttfamily \#include $<$Inertial\+Vectors.\+h$>$}\newline
{\ttfamily \#include $<$Attitude\+Estimation.\+h$>$}\newline
{\ttfamily \#include $<$Feedback\+Control.\+h$>$}\newline
{\ttfamily \#include $<$S\+T\+M32\+Serial\+Communication.\+h$>$}\newline
{\ttfamily \#include $<$S\+P\+I\+\_\+\+F\+R\+A\+M.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a0e6c1707000c7c2e76200d2363b9a3cd}\label{_a_c_s_state_machine_8c_a0e6c1707000c7c2e76200d2363b9a3cd}} 
\#define {\bfseries D\+E\+T\+U\+M\+B\+L\+E\+\_\+\+L\+O\+W\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~0.\+00872665
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a4527cb9a937bb4f1e85dda792cd5f9e4}\label{_a_c_s_state_machine_8c_a4527cb9a937bb4f1e85dda792cd5f9e4}} 
\#define {\bfseries D\+E\+T\+U\+B\+M\+L\+E\+\_\+\+H\+I\+G\+H\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~0.\+05
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a3a2cd1b4e4a18cd0547fb581526726c3}\label{_a_c_s_state_machine_8c_a3a2cd1b4e4a18cd0547fb581526726c3}} 
\#define {\bfseries S\+T\+A\+B\+L\+E\+\_\+\+A\+T\+T\+I\+T\+U\+D\+E\+\_\+\+L\+O\+W\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~0.\+02
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_adea3c29760c22824418df86dc39f2345}\label{_a_c_s_state_machine_8c_adea3c29760c22824418df86dc39f2345}} 
\#define {\bfseries S\+T\+A\+B\+L\+E\+\_\+\+A\+T\+T\+I\+T\+U\+D\+E\+\_\+\+H\+I\+G\+H\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~0.\+08
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a601a320fd7900c01e0573a825caf0202}\label{_a_c_s_state_machine_8c_a601a320fd7900c01e0573a825caf0202}} 
\#define {\bfseries P\+O\+I\+N\+T\+\_\+\+E\+R\+R\+O\+R\+\_\+\+H\+I\+G\+H\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~15
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a5e4b5ca93617738a791a580a91379d63}\label{_a_c_s_state_machine_8c_a5e4b5ca93617738a791a580a91379d63}} 
\#define {\bfseries P\+O\+I\+N\+T\+\_\+\+E\+R\+R\+O\+R\+\_\+\+L\+O\+W\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~10
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a4fa86d92da13b68b68baa6c2401214a3}\label{_a_c_s_state_machine_8c_a4fa86d92da13b68b68baa6c2401214a3}} 
\#define {\bfseries S\+U\+N\+\_\+\+A\+N\+G\+L\+E\+\_\+\+H\+I\+G\+H\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~40
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a97b2e897a4628d2a2a9540aa342c28a9}\label{_a_c_s_state_machine_8c_a97b2e897a4628d2a2a9540aa342c28a9}} 
\#define {\bfseries S\+U\+N\+\_\+\+A\+N\+G\+L\+E\+\_\+\+L\+O\+W\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~30
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_acc90998734be0b85826c8d1c35be4bf6}\label{_a_c_s_state_machine_8c_acc90998734be0b85826c8d1c35be4bf6}} 
\#define {\bfseries I\+N\+E\+R\+T\+I\+A\+L\+\_\+\+U\+P\+D\+A\+T\+E\+\_\+\+R\+A\+TE}~10
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a2385659b07f3465a2ff15dd65783ff06}\label{_a_c_s_state_machine_8c_a2385659b07f3465a2ff15dd65783ff06}} 
enum {\bfseries A\+C\+S\+State} \{ \newline
{\bfseries D\+E\+F\+A\+U\+LT} = 0, 
{\bfseries W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+E\+N\+A\+B\+LE}, 
{\bfseries D\+E\+T\+U\+M\+B\+LE}, 
{\bfseries W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+A\+T\+T\+I\+T\+U\+DE}, 
\newline
{\bfseries R\+E\+O\+R\+I\+E\+NT}, 
{\bfseries S\+T\+A\+B\+I\+L\+I\+Z\+E\+\_\+\+N\+O\+\_\+\+S\+UN}, 
{\bfseries S\+T\+A\+B\+I\+L\+I\+ZE}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_a_c_s_state_machine_8c_af493e1e0197f128de043ff6d3062f77c}{set\+Uart\+Handle}} (U\+A\+R\+T\+\_\+\+Handle\+Type\+Def $\ast$uart)
\begin{DoxyCompactList}\small\item\em Sets the U\+A\+RT handle used to communicate with 42. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_a_c_s_state_machine_8c_aab4bf2646d5fa50b15643cdf6d1338da}{set\+Spi\+Handle}} (S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$spi)
\begin{DoxyCompactList}\small\item\em Sets the S\+PI handle used to communicate with F\+R\+AM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_a_c_s_state_machine_8c_a17ce655d7656c8625b8eaee880b4c04b}{run\+A\+CS}} (void)
\begin{DoxyCompactList}\small\item\em Runs the A\+CS in an infinite loop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char {\bfseries state\+\_\+names} \mbox{[}$\,$\mbox{]}\mbox{[}30\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Runs the logic for the A\+CS. 

Created by Galen Savidge. Edited 5/11/2019. 

\subsection{Function Documentation}
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a17ce655d7656c8625b8eaee880b4c04b}\label{_a_c_s_state_machine_8c_a17ce655d7656c8625b8eaee880b4c04b}} 
\index{ACSStateMachine.c@{ACSStateMachine.c}!runACS@{runACS}}
\index{runACS@{runACS}!ACSStateMachine.c@{ACSStateMachine.c}}
\subsubsection{\texorpdfstring{runACS()}{runACS()}}
{\footnotesize\ttfamily void run\+A\+CS (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Runs the A\+CS in an infinite loop. 

\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
See A\+CS State Machine (figure x, page x of the Year 3 Sping Report).

State transition checks at the top of the code have low priority, checks at the bottom have high priority.\mbox{\Hypertarget{_a_c_s_state_machine_8c_aab4bf2646d5fa50b15643cdf6d1338da}\label{_a_c_s_state_machine_8c_aab4bf2646d5fa50b15643cdf6d1338da}} 
\index{ACSStateMachine.c@{ACSStateMachine.c}!setSpiHandle@{setSpiHandle}}
\index{setSpiHandle@{setSpiHandle}!ACSStateMachine.c@{ACSStateMachine.c}}
\subsubsection{\texorpdfstring{setSpiHandle()}{setSpiHandle()}}
{\footnotesize\ttfamily void set\+Spi\+Handle (\begin{DoxyParamCaption}\item[{S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$}]{spi }\end{DoxyParamCaption})}



Sets the S\+PI handle used to communicate with F\+R\+AM. 


\begin{DoxyParams}{Parameters}
{\em spi} & pointer to a S\+PI handle from main.\+c \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{_a_c_s_state_machine_8c_af493e1e0197f128de043ff6d3062f77c}\label{_a_c_s_state_machine_8c_af493e1e0197f128de043ff6d3062f77c}} 
\index{ACSStateMachine.c@{ACSStateMachine.c}!setUartHandle@{setUartHandle}}
\index{setUartHandle@{setUartHandle}!ACSStateMachine.c@{ACSStateMachine.c}}
\subsubsection{\texorpdfstring{setUartHandle()}{setUartHandle()}}
{\footnotesize\ttfamily void set\+Uart\+Handle (\begin{DoxyParamCaption}\item[{U\+A\+R\+T\+\_\+\+Handle\+Type\+Def $\ast$}]{uart }\end{DoxyParamCaption})}



Sets the U\+A\+RT handle used to communicate with 42. 


\begin{DoxyParams}{Parameters}
{\em uart} & pointer to a U\+A\+RT handle from main.\+c \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}


\subsection{Variable Documentation}
\mbox{\Hypertarget{_a_c_s_state_machine_8c_a0310849108929edf548965fef19fe4ec}\label{_a_c_s_state_machine_8c_a0310849108929edf548965fef19fe4ec}} 
\index{ACSStateMachine.c@{ACSStateMachine.c}!state\_names@{state\_names}}
\index{state\_names@{state\_names}!ACSStateMachine.c@{ACSStateMachine.c}}
\subsubsection{\texorpdfstring{state\_names}{state\_names}}
{\footnotesize\ttfamily char state\+\_\+names\mbox{[}$\,$\mbox{]}\mbox{[}30\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{        \textcolor{stringliteral}{"Default"}, }
\DoxyCodeLine{        \textcolor{stringliteral}{"Wait for Enable"}, }
\DoxyCodeLine{        \textcolor{stringliteral}{"Detumble"}, }
\DoxyCodeLine{        \textcolor{stringliteral}{"Wait for Attitude"}, }
\DoxyCodeLine{        \textcolor{stringliteral}{"Reorient"},}
\DoxyCodeLine{        \textcolor{stringliteral}{"Stabilize (Ignore Sun)"},}
\DoxyCodeLine{        \textcolor{stringliteral}{"Stabilize"}}
\DoxyCodeLine{\}}

\end{DoxyCode}
