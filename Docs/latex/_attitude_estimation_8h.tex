\hypertarget{_attitude_estimation_8h}{}\section{C\+:/\+Users/galey/\+Documents/\+Mechanical/\+Mech\+\_\+\+Lib/\+Attitude\+Estimation.h File Reference}
\label{_attitude_estimation_8h}\index{C:/Users/galey/Documents/Mechanical/Mech\_Lib/AttitudeEstimation.h@{C:/Users/galey/Documents/Mechanical/Mech\_Lib/AttitudeEstimation.h}}


Sensor fusion and attitude determination.  


{\ttfamily \#include \char`\"{}A\+C\+S.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct___matrix}{Matrix}} \mbox{\hyperlink{_attitude_estimation_8h_add41af68c335ef202f04c3c055ae5972}{initialize\+D\+CM}} (float yaw, float pitch, float roll)
\begin{DoxyCompactList}\small\item\em Allocates and initializes a 3x3 D\+CM Matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_attitude_estimation_8h_a5aec64402f3df1a6482b514b354f46b0}{update\+Attitude\+Estimate}} (\mbox{\hyperlink{struct_a_c_s_type}{A\+C\+S\+Type}} $\ast$acs)
\begin{DoxyCompactList}\small\item\em Updates the craft attitude estimate using sensor data in acs. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_attitude_estimation_8h_ade543c963382408c5820da341714c3fc}{find\+Euler\+Angles}} (\mbox{\hyperlink{struct___matrix}{Matrix}} R, float $\ast$yaw\+\_\+pitch\+\_\+roll)
\begin{DoxyCompactList}\small\item\em Performs closed loop integration on the given D\+CM using the Rexp form. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Sensor fusion and attitude determination. 

This module contains the code to run closed loop gyro integration using feedback from the magnetometer and solar vector. Call initalize\+A\+C\+S() in \mbox{\hyperlink{_a_c_s_8h}{A\+C\+S.\+h}} to initialize an Attitude Control System struct, then pass it into \mbox{\hyperlink{_attitude_estimation_8h_a5aec64402f3df1a6482b514b354f46b0}{update\+Attitude\+Estimate()}} every loop to get the craft\textquotesingle{}s Direction Consine Matrix (D\+CM).

Created by Galen Savidge. Edited 5/12/2019. 

\subsection{Function Documentation}
\mbox{\Hypertarget{_attitude_estimation_8h_ade543c963382408c5820da341714c3fc}\label{_attitude_estimation_8h_ade543c963382408c5820da341714c3fc}} 
\index{AttitudeEstimation.h@{AttitudeEstimation.h}!findEulerAngles@{findEulerAngles}}
\index{findEulerAngles@{findEulerAngles}!AttitudeEstimation.h@{AttitudeEstimation.h}}
\subsubsection{\texorpdfstring{findEulerAngles()}{findEulerAngles()}}
{\footnotesize\ttfamily void find\+Euler\+Angles (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct___matrix}{Matrix}}}]{R,  }\item[{float $\ast$}]{yaw\+\_\+pitch\+\_\+roll }\end{DoxyParamCaption})}



Performs closed loop integration on the given D\+CM using the Rexp form. 


\begin{DoxyParams}{Parameters}
{\em R} & the D\+CM (initialize to I3 before first use) \\
\hline
{\em yaw\+\_\+pitch\+\_\+roll} & pointer to float\mbox{[}3\mbox{]} which hold yaw (0) pitch (1) and roll (2) after the function returns \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
\mbox{\Hypertarget{_attitude_estimation_8h_add41af68c335ef202f04c3c055ae5972}\label{_attitude_estimation_8h_add41af68c335ef202f04c3c055ae5972}} 
\index{AttitudeEstimation.h@{AttitudeEstimation.h}!initializeDCM@{initializeDCM}}
\index{initializeDCM@{initializeDCM}!AttitudeEstimation.h@{AttitudeEstimation.h}}
\subsubsection{\texorpdfstring{initializeDCM()}{initializeDCM()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct___matrix}{Matrix}} initialize\+D\+CM (\begin{DoxyParamCaption}\item[{float}]{yaw,  }\item[{float}]{pitch,  }\item[{float}]{roll }\end{DoxyParamCaption})}



Allocates and initializes a 3x3 D\+CM Matrix. 


\begin{DoxyParams}{Parameters}
{\em Euler} & angles for the initial D\+CM \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new D\+CM Matrix 
\end{DoxyReturn}
\mbox{\Hypertarget{_attitude_estimation_8h_a5aec64402f3df1a6482b514b354f46b0}\label{_attitude_estimation_8h_a5aec64402f3df1a6482b514b354f46b0}} 
\index{AttitudeEstimation.h@{AttitudeEstimation.h}!updateAttitudeEstimate@{updateAttitudeEstimate}}
\index{updateAttitudeEstimate@{updateAttitudeEstimate}!AttitudeEstimation.h@{AttitudeEstimation.h}}
\subsubsection{\texorpdfstring{updateAttitudeEstimate()}{updateAttitudeEstimate()}}
{\footnotesize\ttfamily void update\+Attitude\+Estimate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_a_c_s_type}{A\+C\+S\+Type}} $\ast$}]{acs }\end{DoxyParamCaption})}



Updates the craft attitude estimate using sensor data in acs. 


\begin{DoxyParams}{Parameters}
{\em acs} & an initialized A\+CS struct which has up-\/to-\/date sensor data \\
\hline
{\em dt} & time in seconds since last call of this function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
